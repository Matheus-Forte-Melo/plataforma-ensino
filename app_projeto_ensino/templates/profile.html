{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto extensionista</title>
    <link rel="stylesheet" href="{% static 'styles/geral.css' %}">
    <link rel="stylesheet" href="{% static 'styles/profile.css' %}">
</head>
<body onload="toggleTema()">
    <div class="red-section" id="banner" style='background-color: {{ user.cor_perfil }};'>
        <header>
            <nav>
                <a class="first_a" href="{% url 'home' %}">HOME</a>
                <a href="{% url 'world1' %}">CONTEÚDO</a>
                <a href="#">RANKING</a>
                <a href="#" id="last">SOBRE NÓS</a>
                <div class="icons-container">
                    <a id="user-a" href="signin.html">
                        <svg id="config-icon" xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#808080" viewBox="0 0 256 256">
                            <path d="M172,120a44,44,0,1,1-44-44A44.05,44.05,0,0,1,172,120Zm60,8A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88.09,88.09,0,0,0-91.47-87.93C77.43,41.89,39.87,81.12,40,128.25a87.65,87.65,0,0,0,22.24,58.16A79.71,79.71,0,0,1,84,165.1a4,4,0,0,1,4.83.32,59.83,59.83,0,0,0,78.28,0,4,4,0,0,1,4.83-.32,79.71,79.71,0,0,1,21.79,21.31A87.62,87.62,0,0,0,216,128Z"></path>
                        </svg>
                    </a>
                    {% if request.user.is_authenticated %}
                        <a id="settings-a" href="{% url 'settings' %}">
                    {% else %}
                        <a id="settings-a" href="{% url 'signin' %}">
                    {% endif %}
                    <svg id="config-icon" xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#D90429" viewBox="0 0 256 256"><path d="M237.94,107.21a8,8,0,0,0-3.89-5.4l-29.83-17-.12-33.62a8,8,0,0,0-2.83-6.08,111.91,111.91,0,0,0-36.72-20.67,8,8,0,0,0-6.46.59L128,41.85,97.88,25a8,8,0,0,0-6.47-.6A111.92,111.92,0,0,0,54.73,45.15a8,8,0,0,0-2.83,6.07l-.15,33.65-29.83,17a8,8,0,0,0-3.89,5.4,106.47,106.47,0,0,0,0,41.56,8,8,0,0,0,3.89,5.4l29.83,17,.12,33.63a8,8,0,0,0,2.83,6.08,111.91,111.91,0,0,0,36.72,20.67,8,8,0,0,0,6.46-.59L128,214.15,158.12,231a7.91,7.91,0,0,0,3.9,1,8.09,8.09,0,0,0,2.57-.42,112.1,112.1,0,0,0,36.68-20.73,8,8,0,0,0,2.83-6.07l.15-33.65,29.83-17a8,8,0,0,0,3.89-5.4A106.47,106.47,0,0,0,237.94,107.21ZM128,168a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z"></path></svg>
                    </a>
                </div>
            </nav>
        </header>
    
    </div>

    <div class="white-section">

        {% if request.user.id == user.id %} <!-- Faz a comparação do usuário do perfil contra o usuário da sessão atual-->
        <a class="edit" href="{% url 'profile-edit' user.pk %}">
            <svg id="edit-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M227.32,73.37,182.63,28.69a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H216a8,8,0,0,0,0-16H115.32l112-112A16,16,0,0,0,227.32,73.37ZM136,75.31,152.69,92,68,176.69,51.31,160ZM48,208V179.31L76.69,208Zm48-3.31L79.32,188,164,103.31,180.69,120Zm96-96L147.32,64l24-24L216,84.69Z"></path></svg>
            Editar
        </a>
        {% else %}

        <div style="height: 42px;" class="edit"></div>

        {% endif %}
        
        
        <h1>{{ user.username }}</h1>
        
        <section>
            <div class="details">
                <p>MUNDO ATUAL</p>
                {{ user.mundo }}
                ,
                {{ user.fase }}
            </div>
            
            <div class="details">
                <p>PONTUAÇÃO</p>
                {{ user.pontuacao }}
            </div>
        </section>
    </div>

    <div class="circle-container">
        <div class="circle">
            <img src="{% static 'img/avatar/' %}{{ user.avatar }}.jpeg" id="avatar" class="avatar-image" alt="Avatar">
            <!-- Gambiarra fudida pra não precisar usar imagefield; pensando agora, seria muito melhor, mas tamo sem tempo-->
        </div>
    </div>
    
      <!-- script temporario para alternar entre gifs de perfil temporarios. -->
      <script src="{% static 'scripts/modo_escuro_toggle.js' %}"></script>
      <script src="{% static 'scripts/perfil.js' %}"></script>

</body>
</html>
